<html>
    <head>
        <title>Vũ Thị Thanh</title>
        <script type="text/javascript">
            datasets=[
                {
                    ID:"P01",
                    Name:"Coca",
                    Quantity:2,
                    Price:15,
                    Photo:"coca.jpg"
                },
                {
                    ID:"P02",
                    Name:"Sting",
                    Quantity:3,
                    Price:14,
                    Photo:"sting.jpg"
                },
                {
                    ID:"P03",
                    Name:"Pepsi",
                    Quantity:4,
                    Price:12,
                    Photo:"pepsi.jpg"
                },
                {
                    ID:"P04",
                    Name:"7UP",
                    Quantity:6,
                    Price:10,
                    Photo:"7up.jpg"
                },
                {
                    ID:"P05",
                    Name:"Lavie",
                    Quantity:5,
                    Price:16,
                    Photo:"lavie.png"
                }
            ]
        </script>
    </head>
    <body>
        <table border="1">
            <caption>List of Products</caption>
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Name</th>
                    <th>Quantity</th>
                    <th>Price</th>
                    <th>Photo</th>
                    <th>Action</th>
                </tr>
            </thead>
            <tbody id="product_tbody">
            </tbody>
        </table>
        <script type="text/javascript">
            product_tbody=document.getElementById("product_tbody")
            //alert(datasets.length)
            for(i=0; i<datasets.length;i++)
                {
                    item=datasets[i]
                    //step1: create a tr
                    row=document.createElement("tr")
                    td_id=document.createElement("td")
                    td_name=document.createElement("td")
                    td_quantity=document.createElement("td")
                    td_price=document.createElement("td")
                    td_photo=document.createElement("td")
                    td_action=document.createElement("td")
                    //step2: assign value for item html element
                    td_id.innerText=item.ID
                    td_name.innerText=item.Name
                    td_quantity.innerText=item.Quantity
                    td_price.innerText=item.Price
                    img=document.createElement("img")
                    img.setAttribute("src","../images/"+item.Photo)
                    img.setAttribute("width","100")
                    img.setAttribute("height","150")

                    ic_detail=document.createElement("img")
                    ic_detail.setAttribute("src","../images/ic_detail.png")
                    ic_detail.setAttribute("title", "view detail")
                    ic_detail.setAttribute("style", "cursor:pointer")
                    ic_detail.item_product=item
                    ic_detail.onclick=function()
                    {
                        //we need to convert json object into json string:
                        jsonstring=JSON.stringify(this.item_product)
                        //use localstorage for saving
                        localstorage.setItem("selected_product",jsonstring)
                        //open detail.html
                        open("detail.html","blank")
                    }
                    td_action.appendChild(ic_detail)

                    ic_edit=document.createElement("img")
                    ic_edit.setAttribute("src","../images/ic_edit.png")
                    ic_edit.setAttribute("title", "view detail")
                    ic_edit.setAttribute("style", "cursor:pointer")
                    td_action.appendChild(ic_edit)   

                    ic_delete=document.createElement("img")
                    ic_delete.setAttribute("src","../images/ic_delete.png")
                    ic_delete.setAttribute("title", "view detail")
                    ic_delete.setAttribute("style", "cursor:pointer")
                    td_action.appendChild(ic_delete) 

                    td_photo.appendChild(img)        
                    //td_photo.innerHTML="<....>"     
                    //td_action.innerHTML="<....>"    
                    
                    //step3: attach td(s) into tr(row)
                    row.appendChild(td_id)
                    row.appendChild(td_name)
                    row.appendChild(td_quantity)
                    row.appendChild(td_price)
                    row.appendChild(td_photo)
                    row.appendChild(td_action)
                    //step4: attach tr(row) into body
                    product_tbody.appendChild(row)    
                }
        </script>
    </body>
</html>
